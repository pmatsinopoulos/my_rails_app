<div ng-controller="OrdersCtrl">
  
  <table>
    <thead>
      <tr><td>Select a product</td><td>Add</td></tr>
    </thead>
    <tr>
      <form ng-submit="addOrder()">
        <td>
          <select ng-model="newOrder.product_id" class="form-control">
            <option ng-repeat="product in products" value="{{product.id}}">{{product.name}}</option>
          </select>
          <input type="hidden" ng-model="newOrder.user_id" value="{{5}}" class="form-control"/>
        </td>
        <td>
          <input type="submit" value="+" class="btn btn-success">
        </td>
      </form>
    </tr>
  </table>

  <h3>Orders</h3>

  <table class="table table-hover">
    <thead>
      <td>Order ID</td>
      <td>Product</td>
      <td></td>
    </thead>
    <tbody>
      <tr ng-repeat="order in orders | orderBy:'-id':reverse">
        <td>
          {{order.id}}
        </td>
        <td>
          <strong>{{order.product.price | currency: 'Â£'}}</strong>
        </td>
        <td>
          {{order.product.name}}
          <small ng-show="order.id"><br>-{{order.user.email}}</small>
        </td>
        <td>
          <button ng-click="deleteOrder(order)" class="btn btn-danger btn-sm">
            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>


